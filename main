# Program Name: Final Sprint - HAB Taxi Services
# Program Description: A program designed to service HAB Taxi Services, with calculations and reports
# Written By: Group 3
# Written On: August 4th - August 18, 2023

# imports
import csv
import datetime

# Constants
f = open('defaults.dat', 'r')
NEXT_TRANSACTION_NUM = int(f.readline())
NEXT_DRIVER_NUM = int(f.readline())
MONTHLY_STAND_FEE = float(f.readline())
DAILY_RENTAL_FEE = float(f.readline())
WEEKLY_RENTAL_FEE = float(f.readline())
HST_RATE= float(f.readline())
f.close()

# functions

def newEmployee():
    while True:

        while True:

            empDriverNum = NEXT_DRIVER_NUM

            print()
            print("Add new Employee:")
            print()

            empNameAllowed = set("QWERTYUIOPASDFGHJKLZXCVBNMqwertyuiopasdfghjklzxcvbnm'")

            empFirstName = input("Enter employee first name: ").title()
            if empFirstName not in empNameAllowed:
                print("Enter a valid name please.")
            elif empFirstName == " ":
                print("Enter a valid name please.")
            else:
                break

        while True:
            empLastName = input("Enter employee last name: ").title()
            if empLastName not in empNameAllowed:
                print("Enter a valid name please.")
            elif empLastName == " ":
                print("Enter a valid name please.")
            else:
                break

        while True:
            empCityNotAllowed = set("1234567890")
            empCity = input("Enter employee city: ")
            if empCity == " ":
                print("Enter a valid address.")
            elif empCity in empCityNotAllowed:
                print("Enter a valid city please. ")
            else:
                break

        while True:
            empAddress = input("Enter employee address: ")
            if empAddress == " ":
                print("Enter a valid address.")
            else:
                break

        while True:
            empPostalCharAllowed = set("ASDFGHJKLQWERTYUIOPZXCVBNM")
            empPostalNumAllowed = set("1234567890")
            empPostal = input("Enter employee postal code: ").upper()
            if empPostal == " ":
                print("Enter a valid Postal Code.")
            elif len(empPostal) != 5:
                print("Enter a valid Postal Code without spaces.")
            elif empPostal[0] or empPostal[2] or empPostal[4] not in empPostalCharAllowed:
                print("Enter a valid Postal Code.")
            elif empPostal[1] or empPostal[3] or empPostal[5] not in empPostalNumAllowed:
                print("Enter a valid Postal Code.")
            else:
                break

        while True:
            provAllowed = ["NL", "ON", "ONT", "QC", "SK", "MB", "NS", "NB", "PEI", "AB", "BC", "NWT", "NT", "YK"]
            empProv = input("Enter employee province: ")
            if empProv not in provAllowed:
                print("Enter a valid province plesase.")
            else:
                break

        while True:
            phoneNumAllowed = set("1234567890-")
            empPhone = input("Enter employee phone number: ")
            if empPhone not in phoneNumAllowed:
                print("Enter a valid number please. ")
            elif len(empPhone) != 11:
                print("Enter a full 10 digit phone number with dashes please. ")
            else:
                break

        while True:
            try:
                licenseNum = int(input("Enter driver license number: "))
            except:
                print("Enter a valid number please. ")
            else:
                if licenseNum == "":
                    print("Enter a license. ")
                else:
                    break

        while True:
            licenseTimelineAllowed = set("/1234567890")
            licenseTimeline = input("Enter the driver license expiry with a '/' ")
            if licenseTimeline not in licenseTimelineAllowed:
                print("Enter a valid set of numbers with a '/' please. ")
            elif licenseTimeline == " ":
                print("Enter a license number please.")
            elif len(licenseTimeline) != 4:
                print("Use 2 digits for both month and year please. ")
            elif licenseTimeline[2] != "/":
                print("Use a '/' in the correct spot to define month and year please. ")
            else:
                break

        while True:
            insuranceNumAllowed = set("1234567890")
            insuranceNum = input("Enter the employee's insurance number: ")
            if insuranceNum not in insuranceNumAllowed:
                print("Enter a valid insurance number please. ")
            else:
                insuranceCompany = input("Enter the insurance company: ")
                if insuranceCompany == " ":
                    print("You must enter a company. ")
                else:
                    break

        while True:
            empOwnCar = input("Does this employee have their own car? (Y/N)").upper()
            if empOwnCar != "Y" and empOwnCar != "N":
                print("Invalid response, enter Y or N please. ")
            elif empOwnCar == "Y":
                balDueSubtotal = MONTHLY_STAND_FEE
            elif empOwnCar == "N":
                typeOfCharges = input("Daily or weekly rental? Enter Daily or Weekly: ").upper()
                if typeOfCharges == "DAILY":
                    balDueSubtotal = DAILY_RENTAL_FEE
                elif typeOfCharges == "WEEKLY":
                    balDueSubtotal = WEEKLY_RENTAL_FEE
                    break

        balDueTotal = balDueSubtotal * (1 + HST_RATE)

        f = open("Drivers.dat", "a")

def carRentals():
    pass

def employeePayment():
    pass

def companyProfitListing():
    pass

def customReport():
    pass


# main program

while True:
    print()
    print("           HAB Taxi Services")
    print("           Company Services System")
    print("1. Enter a New Employee (driver)")
    print("2. Enter Company Revenues")
    print("3. Enter Company Expenses")
    print("4. Track Car Rentals")
    print("5. Record Employee Payment")
    print("6. Print Company Profit Listing")
    print("7. Print Driver Financial Listing")
    print("8. Custom report")
    print("9. Quit Program")
    print()

    try: userInput = int(input("Enter a number of 1 through 9: "))
    except: print("Please enter a valid number.")
    else:
        if 9 < userInput < 1:
            print("Please enter a valid number.")
        else:
            if userInput == 1:
                newEmployee()
            elif userInput == 2:
                print("Option not configured.")
            elif userInput == 3:
                print("Option not configured.")
            elif userInput == 4:
                carRentals()
            elif userInput == 5:
                employeePayment()
            elif userInput == 6:
                companyProfitListing()
            elif userInput == 7:
                print("Option not configured.")
            elif userInput == 8:
                customReport()
            else:
                print()
                print("System entering sleep mode. Thanks for using the company system.")
                break


